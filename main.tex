\documentclass{./guidednotes/guidednotes}

\setauthor{Kelvin Chan}{University of Western Ontario}
\setcourse{Calculus}{Calc}{1000}{Calculus I}
\setterm{Fall}{2025}{2025-10-13}

\input{./tikz.tex.preamble}

\begin{document}

\begin{week}{September 4 and 5}
  \subfile{./lessons/review-function-basics.tex} \clearpage
\end{week}

\begin{week}{September 8 to 12}
  \subfile{./lessons/review-decomposition.tex} \clearpage
  \subfile{./lessons/review-trigs.tex} \clearpage
  \subfile{./lessons/review-piecewise.tex} \clearpage
  \subfile{./lessons/review-inverses.tex} \clearpage
  \subfile{./lessons/review-exp.tex} \clearpage
\end{week}

\begin{week}{September 15 to 19}
  \subfile{./lessons/limit-introduction.tex} \clearpage
  \subfile{./lessons/limit-laws.tex} \clearpage
  \subfile{./lessons/continuity.tex} \clearpage
  \subfile{./lessons/continuity-ivt.tex} \clearpage
\end{week}

\begin{week}{September 22 to 26}
  \subfile{./lessons/limit-at-infinity.tex} \clearpage
  \subfile{./lessons/derivative-at-a-point.tex} \clearpage
  \subfile{./lessons/derivative-as-a-function.tex} \clearpage
\end{week}

\begin{week}{September 29 to October 3}
  \subfile{./lessons/derivative-continuity.tex} \clearpage
  \subfile{./lessons/differentiation-summary.tex} \clearpage
  \subfile{./lessons/differentiation-rules.tex} \clearpage
  \subfile{./lessons/differentiation-trigs.tex} \clearpage
  \subfile{./lessons/differentiation-problem-solving.tex} \clearpage
\end{week}

\begin{week}{October 6 to 10}
  \subfile{./lessons/differentiation-chain.tex} \clearpage
  \subfile{./lessons/differentiation-implicit.tex} \clearpage
  \subfile{./lessons/differentiation-inverse.tex} \clearpage
  \subfile{./lessons/differentiation-exp-ln.tex} \clearpage
\end{week}

\begin{week}{October 13 to 17}
  \subfile{./lessons/reading-week.tex} \clearpage
\end{week}

\begin{week}{October 20 to 24}
  \subfile{./lessons/differentiation-logarithmic-differentiation.tex} \clearpage
  \subfile{./lessons/differentiation-strategies.tex} \clearpage
  \subfile{./lessons/related-rates.tex} \clearpage
\end{week}

\begin{week}{October 27 to 31}
  \subfile{./lessons/extrema.tex} \clearpage
  \subfile{./lessons/derivative-tests.tex} \clearpage
\end{week}

\begin{week}{November 3 to 7}
  \subfile{./lessons/optimization.tex} \clearpage
  \subfile{./lessons/extrema-subtleties.tex} \clearpage
  \subfile{./lessons/lHopitals-rule.tex} \clearpage
\end{week}

\begin{week}{November 10 to 14} % 4.10 and 5.1
  \subfile{./lessons/integration-intro.tex} \clearpage
  \subfile{./lessons/integration-formulas.tex} \clearpage
  \subfile{./lessons/sigma-notation.tex} \clearpage
  \subfile{./lessons/antiderivatives.tex} \clearpage
  \subfile{./lessons/the-area-problem.tex} \clearpage
\end{week}

\begin{week}{November 17 to 21} % 5.2 and 5.3
  \subfile{./lessons/the-definite-integral.tex} \clearpage
  \subfile{./lessons/ftc-part-one.tex} \clearpage
  \subfile{./lessons/ftc-part-two.tex} \clearpage
  \subfile{./lessons/net-change.tex} \clearpage
\end{week}

\begin{week}{November 24 to 28} % 5.4, 5.5, 5.6, 6.1 and 6.2
  \subfile{./lessons/integration-substitution.tex} \clearpage
  \subfile{./lessons/area-between-curves.tex} \clearpage
  \subfile{./lessons/volume-by-slicing.tex} \clearpage
\end{week}

\begin{week}{December 1 to 5} % review
  \subfile{./lessons/integration-strategy.tex} \clearpage
  \subfile{./lessons/exam-strategies.tex} \clearpage
\end{week}

%--------------------
% 
% BACK MATTER
% 
% --------------------
\backmatter{}

%--------------------
% 
% generate files in the publish direjctory
% 
% --------------------
\begin{luacode}
  local offset = titlepage + frontmatter
  local prev = offset + 1
  for i, pagenum in pairs(weeks) do
  local f = io.open(string.format("./publish/week%d.tex", i), "w")
  local a = prev
  local b = pagenum + offset - 1
  local s = string.format("\\includepdf[pages=%d-%d]{../build/main.pdf}", a, b)

  f:write("\\documentclass{article}")
  f:write("\\usepackage{pdfpages}")
  f:write("\\begin{document}")
  f:write(s)
  f:write("\\end{document}")
  f:close()

  prev = b + 1
  end
\end{luacode}
\end{document}
